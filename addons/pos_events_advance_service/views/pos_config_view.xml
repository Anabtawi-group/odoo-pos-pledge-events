<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_pos_config_form_pledge_category" model="ir.ui.view">
        <field name="name">pos.config.form.pledge.category</field>
        <field name="model">pos.config</field>

        <!-- Inherit the official POS config form -->
        <field name="inherit_id" ref="point_of_sale.pos_config_view_form"/>

        <field name="arch" type="xml">
            <!--
                Odoo 19 SAFE METHOD
                We inject a NEW PAGE into the notebook
                (no fragile xpaths like pos_interface)
            -->
            <xpath expr="//form/sheet/notebook" position="inside">
                <page string="Pledge (Deposit)">
                    <group>
                        <field name="pledge_pos_categ_id"
                               options="{'no_create': True}"
                               placeholder="Select POS category used for pledge products"/>
                    </group>
                </page>
            </xpath>
        </field>
    </record>
</odoo>
